{"version":3,"sources":["webpack:///./src/pages/dungeons-and-demons-game.js"],"names":["exitPage","exit","node","TimelineMax","to","opacity","ease","Linear","easeIn","DungeonsDemons","data","useStaticQuery","projectPageBg","useRef","nextProjectCover","gsReveal","current","addToRefs","el","includes","push","useEffect","tl","fromTo","y","duration","scroller","document","querySelector","bodyScrollBar","Scrollbar","init","actionNav","gsap","Power2","paused","registerPlugin","ScrollTrigger","scrollerProxy","scrollTop","value","arguments","length","getElementsByTagName","setAttribute","addListener","update","create","trigger","start","end","onUpdate","progress","direction","isActive","reverse","play","yPercent","scrollTrigger","scrub","forEach","elem","set","autoAlpha","hide","overwrite","selfRef","width","className","entry","delay","id","data-scrollbar","ref","fluid","markdownRemark","frontmatter","image","childImageSharp","alt","name","title","description","href","link","content","gallery","role","tag","nextProjectImage","nextProjectSlug","nextProject"],"mappings":"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","file":"component---src-pages-dungeons-and-demons-game-js-a31a83ae2548ea4c1ca8.js","sourcesContent":["import React, {useEffect, useRef} from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport BackgroundImage from 'gatsby-background-image'\nimport {FiX} from 'react-icons/fi'\nimport Scrollbar from 'smooth-scrollbar'\nimport {ScrollTrigger} from \"gsap/ScrollTrigger\"\nimport {Linear, TimelineMax, Power2, gsap} from \"gsap/all\"\nimport TransitionLink from \"gatsby-plugin-transition-link\"\n\nconst exitPage = (exit, node) => {\n  const tl = new TimelineMax();\n  tl.to(\".fadeOut\", .8, {opacity: 0, ease: Linear.easeIn}, 1);\n}\n\nconst enterAnimation = () => {\n  const tl = new TimelineMax();\n  tl.fromTo(\".project-header-title\", {y: \"20px\", opacity: 0}, {duration: .8, y: '0px', opacity: 1, ease: Linear.ease}, 1)\n  tl.fromTo(\".project-header-description\", {y: \"20px\", opacity: 0}, {duration: .8, y: '0px', opacity: 1, ease: Linear.ease}, 1.5)\n  tl.fromTo(\".project-page-link\", {y: \"20px\", opacity: 0}, {duration: .8, y: '0px', opacity: 1, ease: Linear.ease}, 2);\n  tl.fromTo(\".FiX\", {y: \"-20px\", opacity: 0}, {duration: .8, y: '0px', opacity: 1, ease: Linear.ease}, 2.5);\n\n}\n\nfunction hide(elem) {\n  gsap.set(elem, {autoAlpha: 0});\n}\n\nexport default function DungeonsDemons(){\n    \n  const data = useStaticQuery(graphql`\n  query DungeonQuery {\n  markdownRemark(frontmatter: {title: {eq: \"Dungeons and Demons Game\"}}) {\n    id\n    frontmatter {\n      slug\n      title\n      description\n      link\n      role\n      nextProject\n      nextProjectSlug\n      content\n      features\n      image {\n        name\n        childImageSharp {\n          fluid(maxWidth: 1920){\n            ...GatsbyImageSharpFluid_withWebp\n          }\n        }\n      }\n      gallery {\n        name\n        childImageSharp {\n          fluid(maxWidth: 584){\n            ...GatsbyImageSharpFluid_withWebp\n          }\n        }\n      }\n      nextProjectImage {\n        name\n        childImageSharp {\n          fluid(maxWidth: 1920){\n            ...GatsbyImageSharpFluid_withWebp\n          }\n        }\n      }\n    }\n  }\n}\n`)\n\nconst projectPageBg = useRef(null)\nconst nextProjectCover = useRef(null)\nconst gsReveal = useRef([])\n  gsReveal.current = []\n\n  const addToRefs = el => {\n    if (el && !gsReveal.current.includes(el)) {\n      gsReveal.current.push(el);\n    }\n  };\n\n  useEffect(() => {\n    enterAnimation();\n  const scroller = document.querySelector(\"[data-scrollbar]\");\n  const bodyScrollBar = Scrollbar.init(scroller);\n  const actionNav = gsap.to('nav', {y:'-=60', duration: .5, ease: Power2.easeIn, paused:true});\n\n  gsap.registerPlugin(ScrollTrigger);\n  \n  ScrollTrigger.scrollerProxy(\"body\", {\n    scrollTop(value) {\n      if (arguments.length) {\n        bodyScrollBar.scrollTop = value;\n        document.getElementsByTagName(\"body\").setAttribute(\"class\", \"scrolling\");\n      }\n      return bodyScrollBar.scrollTop;\n    },\n  });\n  \n  bodyScrollBar.addListener(ScrollTrigger.update);\n\n  ScrollTrigger.create({\n    trigger: \"nav\",\n    start: \"10px top\",\n    end: 99999,\n    onUpdate: ({progress, direction, isActive}) => {\n      if (direction === -1) {\n        actionNav.reverse()\n      } if (direction === 1 ) {\n        actionNav.play()\n      } else if (direction === 1 && isActive === true) {\n        actionNav.play()\n      }\n    }\n  });\n\n    \n  gsap.to(projectPageBg.current, {\n    yPercent: 50,\n    ease: \"none\",\n    scrollTrigger: {\n      trigger: '.jumbotron',\n      // start: \"top bottom\", // the default values\n      // end: \"bottom top\",\n      scrub: true\n    }, \n  });\n\n  gsReveal.current.forEach(elem => {\n    hide(elem); // assure that the element is hidden when scrolled into view\n      \n    gsap.fromTo(elem, {y: \"120px\", autoAlpha: 0 }, {\n      duration: 1.25, \n      autoAlpha: 1, \n      y: '0px',\n      ease: \"expo\", \n      overwrite: \"auto\",\n      scrollTrigger: {\n        trigger: elem,\n        scrub: true\n      }\n    });\n  }) \n\n\n  gsap.to(nextProjectCover.current.selfRef, {\n    ease: \"none\",\n    width: \"100%\",\n    scrollTrigger: { \n      trigger: '.next-project-cover',\n      end: \"bottom bottom\",\n      scrub: true,\n  }},'+=1')\n\n}, [])\n  return <>\n  <div className=\"fixed-nav w-full\">\n    <nav className=\"pt-8 flex justify-center\">\n      <TransitionLink to=\"/projects\" exit={{ trigger: ({ exit, node }) => exitPage(exit, node), length: 2}}\n          entry={{ delay: 2}}>\n        <FiX className=\"FiX text-3xl text-white z-50\" />\n      </TransitionLink>\n    </nav>\n  </div>\n  <section id=\"___section\" className=\"h-screen section fadeOut\" data-scrollbar>\n  <div className=\"project-header h-screen\">\n      <div className=\"project-page-bg\" ref={projectPageBg}>\n      <Img\n        className=\"h-screen w-full overflow-hidden relative\"\n        fluid={data.markdownRemark.frontmatter.image.childImageSharp.fluid}\n        alt={data.markdownRemark.frontmatter.image.name}/>\n      </div>\n      <div className=\"overlay\">\n        \n        <div className=\"center-flex text-white\">\n          <div className=\"project-header-title\">\n            <p  className=\"text-8xl font-heading text-center\">{data.markdownRemark.frontmatter.title}</p>\n          </div>\n          <div className=\"project-header-description self-end mx-12 max-w-xs\">\n            <p  className=\"text-2xl font-heading\">{data.markdownRemark.frontmatter.description}</p>\n            <br/>\n            <a href={data.markdownRemark.frontmatter.link}\n            className=\"project-page-link text-xl font-serif font-semibold example text-white\">\n              <span className=\"hover hover-3 white\">View the Website</span></a>\n          </div>\n        </div>\n      </div>\n    </div> \n\n    <div className=\"header-gradient text-white text-center font-serif jumbotron\">\n      <div className=\"sm:px-12 md:px-18 lg:px-24\">\n        <div className=\"py-20 gs_reveal\" ref={addToRefs}>\n        <p className=\"text-lg max-w-sm margin-auto\">{data.markdownRemark.frontmatter.content}</p>\n        </div>\n\n        <div className=\"mobile-dd py-20 gs_reveal\" ref={addToRefs}>\n          <Img\n            fluid={data.markdownRemark.frontmatter.gallery[0].childImageSharp.fluid}\n            alt={data.markdownRemark.frontmatter.gallery[0].name}/>      \n        </div>\n      \n      <div className=\"bg-image-bold-text margin-auto\">Game Play</div>\n\n      <div className=\"gs_reveal\" ref={addToRefs}>\n        <p className=\"text-lg max-w-sm margin-auto text-center pt-16\">{data.markdownRemark.frontmatter.role}</p>\n      </div>\n    </div>\n\n    <div className=\"pt-20 animate-trigger\">\n          <BackgroundImage tag=\"div\" ref={nextProjectCover} className=\"scaleUp next-project-cover gs-reveal \"  fluid={data.markdownRemark.frontmatter.nextProjectImage.childImageSharp.fluid}>\n\n            <div className=\"center-flex text-white\">\n              <p className=\"text-center pb-20 font-serif text-2xl\">Next Project:</p>\n                <TransitionLink to={data.markdownRemark.frontmatter.nextProjectSlug} exit={{ trigger: ({ exit, node }) => exitPage(exit, node), length: 2}}\n                  entry={{ delay: 2}}><p className=\"text-8xl font-heading text-center text-white\">{data.markdownRemark.frontmatter.nextProject}</p></TransitionLink>\n              </div>\n\n          </BackgroundImage>\n      </div>\n\n  </div>\n</section>\n</>;\n}\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/pages/finesse-organisation.js"],"names":["exitPage","exit","node","TimelineMax","to","opacity","ease","Linear","easeIn","enterAnimation","tl","fromTo","y","duration","Finesse","data","useStaticQuery","useEffect","scroller","document","querySelector","bodyScrollBar","Scrollbar","init","actionNav","gsap","Power2","paused","registerPlugin","ScrollTrigger","scrollerProxy","scrollTop","value","arguments","length","getElementsByTagName","setAttribute","addListener","update","create","trigger","start","end","onUpdate","progress","direction","isActive","reverse","play","yPercent","scrollTrigger","scrub","utils","toArray","forEach","elem","set","autoAlpha","hide","onEnter","delay","classList","contains","x","overwrite","animateFrom","width","className","entry","id","data-scrollbar","loading","fluid","markdownRemark","frontmatter","image","childImageSharp","alt","name","title","description","href","content","gallery","tag","nextProjectImage","nextProjectSlug","nextProject"],"mappings":"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","file":"component---src-pages-finesse-organisation-js-f79cc3825738addb4ea5.js","sourcesContent":["import React, {useEffect} from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport BackgroundImage from 'gatsby-background-image'\nimport {FiX} from 'react-icons/fi'\nimport Scrollbar from 'smooth-scrollbar'\nimport {ScrollTrigger} from \"gsap/ScrollTrigger\"\nimport {Linear, TimelineMax, Power2, gsap} from \"gsap/all\"\nimport TransitionLink from \"gatsby-plugin-transition-link\"\n\nfunction exitPage(exit, node){\n  const tl = new TimelineMax();\n  tl.to(\".fadeOut\", .8, {opacity: 0, ease: Linear.easeIn}, 1);\n}\n\nconst enterAnimation = () => {\n  const tl = new TimelineMax();\n  tl.fromTo(\".project-header-title\", {y: \"20px\", opacity: 0}, {duration: .8, y: '0px', opacity: 1, ease: Linear.ease}, 1)\n  tl.fromTo(\".project-header-description\", {y: \"20px\", opacity: 0}, {duration: .8, y: '0px', opacity: 1, ease: Linear.ease}, 1.5)\n  tl.fromTo(\".project-page-link\", {y: \"20px\", opacity: 0}, {duration: .8, y: '0px', opacity: 1, ease: Linear.ease}, 2);\n  tl.fromTo(\".FiX\", {y: \"-20px\", opacity: 0}, {duration: .8, y: '0px', opacity: 1, ease: Linear.ease}, 2.5);\n\n}\n\nfunction animateFrom(elem, direction) {\n  direction = direction | 1;\n  var delay = .5\n  var x = 0,\n      y = direction * 100;\n\n  if(elem.classList.contains(\"gs_reveal_delay15\")) {\n    delay = 1.5;\n  } else if(elem.classList.contains(\"gs_reveal_delay2\")) {\n    delay = 2;\n  }\n\n  gsap.fromTo(elem, {x: x, y: y, autoAlpha: 0}, {\n    delay: delay,\n    duration: 1.25, \n    x: 0,\n    y: 0, \n    autoAlpha: 1, \n    ease: \"expo\", \n    overwrite: \"auto\"\n  });\n}\n\nfunction hide(elem) {\n  gsap.set(elem, {autoAlpha: 0});\n}\n\nexport default function Finesse() {\n\n  const data = useStaticQuery(graphql`\n  query FinesseQuery{\n  markdownRemark(frontmatter: {title: {eq: \"Finesse Organisation\"}}) {\n    id\n    frontmatter {\n      slug\n      title\n      description\n      link\n      nextProject\n      nextProjectSlug\n      content\n      image {\n        name\n        childImageSharp {\n          fluid(maxWidth: 1920, quality: 90){\n            ...GatsbyImageSharpFluid_withWebp\n          }\n        }\n      }\n      gallery {\n        name\n        childImageSharp {\n          fluid(maxWidth: 1920, quality: 90){\n            ...GatsbyImageSharpFluid_withWebp\n          }\n        }\n      }\n      nextProjectImage {\n        name\n        childImageSharp {\n          fluid(maxWidth: 1920, quality: 90){\n            ...GatsbyImageSharpFluid_withWebp\n          }\n        }\n      }\n    }\n  }\n}\n`)\n\nuseEffect(() => {\n  enterAnimation();\n}, [])\n\n  useEffect(() => {\n    enterAnimation();\n\n    const scroller = document.querySelector(\"[data-scrollbar]\");\n    const bodyScrollBar = Scrollbar.init(scroller);\n    const actionNav = gsap.to('nav', {y:'-=60', duration: .5, ease: Power2.easeIn, paused:true});\n  \n    gsap.registerPlugin(ScrollTrigger);\n    \n    ScrollTrigger.scrollerProxy(\"body\", {\n      scrollTop(value) {\n        if (arguments.length) {\n          bodyScrollBar.scrollTop = value;\n          document.getElementsByTagName(\"body\").setAttribute(\"class\", \"scrolling\");\n        }\n        return bodyScrollBar.scrollTop;\n      },\n    });\n    \n    bodyScrollBar.addListener(ScrollTrigger.update);\n\n    ScrollTrigger.create({\n      trigger: \"nav\",\n      start: \"10px top\",\n      end: 99999,\n      onUpdate: ({progress, direction, isActive}) => {\n        if (direction === -1) {\n          actionNav.reverse()\n        } if (direction === 1 ) {\n          actionNav.play()\n        } else if (direction === 1 && isActive === true) {\n          actionNav.play()\n        }\n      }\n    });\n\n      \n    gsap.to(\".project-page-bg\", {\n      yPercent: 50,\n      ease: \"none\",\n      scrollTrigger: {\n        trigger: \".jumbotron\",\n        // start: \"top bottom\", // the default values\n        // end: \"bottom top\",\n        scrub: true\n      }, \n    });\n\n    gsap.utils.toArray(\".gs_reveal\").forEach(function(elem) {\n      hide(elem); // assure that the element is hidden when scrolled into view\n      \n      ScrollTrigger.create({\n        trigger: elem,\n        onEnter: function() { animateFrom(elem) }, \n      });\n    });\n\n    gsap.to(\".next-project-cover\", {\n      ease: \"none\",\n      width: \"100vw\",\n      scrollTrigger: { \n        trigger: \".next-project-cover\",\n        end: \"bottom bottom\",\n        scrub: true,\n    }},'+=1')\n  \n  })\n\n  return <>\n  <div className=\"fixed-nav w-full\">\n    <nav className=\"pt-8 flex justify-center\">\n      <TransitionLink to=\"/projects\" exit={{ trigger: ({ exit, node }) => exitPage(exit, node), length: 2}}\n          entry={{ delay: 2}}>\n        <FiX className=\"FiX text-3xl text-white z-50\" />\n      </TransitionLink>\n    </nav>\n  </div>\n  <section id=\"___section\" className=\"h-screen section fadeOut\" data-scrollbar>\n\n  <div className=\"project-header h-screen\">\n      <div className=\"project-page-bg\">\n      <Img loading=\"eager\"\n        className=\"h-screen w-full overflow-hidden relative\"\n        fluid={data.markdownRemark.frontmatter.image.childImageSharp.fluid}\n        alt={data.markdownRemark.frontmatter.image.name}/>\n      </div>\n      <div className=\"overlay\">\n        \n        <div className=\"center-flex text-white\">\n          <div className=\"project-header-title\">\n            <p  className=\"text-8xl font-heading text-center\">{data.markdownRemark.frontmatter.title}</p>\n          </div>\n          <div className=\"project-header-description self-end mx-12 max-w-xs\">\n            <p  className=\"text-2xl font-heading\">{data.markdownRemark.frontmatter.description}</p>\n            <br/>\n            <a href=\"/\" className=\"project-page-link text-xl font-serif font-semibold example text-white\">\n              <span className=\"hover hover-3 white\">View the Website</span></a>\n          </div>\n        </div>\n      </div>\n    </div> \n  \n    <div className=\"bg-offwhite px-20 py-40 jumbotron\">\n      <div className=\"center-text\">\n        <p className=\"text-center margin-auto max-w-sm font-serif text-lg text-222 gs_reveal\">\n          {data.markdownRemark.frontmatter.content}\n        </p>\n      </div>\n     </div>\n     \n     <div className=\"bg-white font-body\">\n       <div className=\"sm:px-8 md-px-16 lg:px-20 grid-container pb-24\">\n        <div className=\"section-0 grid grid-cols-1 mt-20\">\n          <div className=\"gs-reveal\">\n            <Img loading=\"eager\"\n              fluid={data.markdownRemark.frontmatter.gallery[0].childImageSharp.fluid}\n              alt={data.markdownRemark.frontmatter.gallery[0].name} />\n          </div>\n        </div>\n      </div>\n      <div className=\"pt-20 animate-trigger\">\n          <BackgroundImage tag=\"div\" className=\"scaleUp next-project-cover gs-reveal \"  fluid={data.markdownRemark.frontmatter.nextProjectImage.childImageSharp.fluid}>\n\n            <div className=\"center-flex text-white\">\n              <p className=\"text-center pb-20 font-serif text-2xl\">Next Project:</p>\n                <TransitionLink to={data.markdownRemark.frontmatter.nextProjectSlug} exit={{ trigger: ({ exit, node }) => exitPage(exit, node), length: 2}}\n                  entry={{ delay: 2}}><p className=\"text-8xl font-heading text-center text-white\">{data.markdownRemark.frontmatter.nextProject}</p></TransitionLink>\n              </div>\n\n          </BackgroundImage>\n      </div>\n\n    </div>\n  </section>\n  </>;\n}"],"sourceRoot":""}